{% extends 'demo-template.html' %}

{% block canvases %}
  <table>
    <tr>
      <td><canvas width="600" height="600" id="seen-canvas-0"></canvas></td>
      <td><canvas width="600" height="600" id="seen-canvas-1"></canvas></td>
    </tr>
  </table>
{% endblock %}

{% block demo %}
<script src="/lib/jquery.js"></script>
<script type="text/coffeescript">
  dim = 600

  for objFile, i in ['assets/teapot-low.obj', 'assets/bunny-low.obj'] then do ->
    scene = new seen.Scene
      model  : seen.Models.default()
      camera : new seen.Camera
        viewport : seen.Viewports.center(dim, dim)

    context = seen.CanvasContext("seen-canvas-#{i}", scene, dim, dim)
    context.render()

    $.get objFile, {}, (contents) ->
      shape = seen.Shapes.obj(contents).scale(30).translate(0,-80)
      scene.model.add(shape)

      context.animate()
        .onBefore(-> shape.roty(0.01).rotx(0.003))
        .start(20)


</script>
{% endblock %}
